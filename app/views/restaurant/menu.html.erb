<h1> <%= params[:error] %> </h1>

<div id="restaurant-menu" class="container">
  <small>
    <%= link_to "<< Back to #{@restaurant.name}", controller: "restaurant", action: "show", id: @restaurant.id %>
  </small>
  <h1><%= @restaurant.name %> Menu</h1>

<!-- Modal -->
<div class="modal fade" id="addDishModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
 <form id="dishForm" action="/restaurant/addDish" method="post" enctype="multipart/form-data">

  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Add a Dish to <%= @restaurant.name %></h4>
      </div>
      <div class="modal-body">
        Please fill out the following form to add a dish: </br>
          Dish Name: <input id="nameDish" name="name"> </br>
          Price (optional): <input id="priceDish" name="price"></br>
          Description (optional): <input id="descriptionDish" name="description"></br>
          Picture (optional): <input id="fileDish" type="file" name="image"></br>

          <input type="hidden" name="restaurantId" value=<%= @restaurant.id %> >
          <p id="reviewDishNow">Want to review the dish now?</p><button type="button" class="btn btn-default" id="showReviewForm">Click here</button>
          <div style="display:none" id="hiddenDish">
          </br>
            Rating:
                  <select id="ratingDropdown" name="rating">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3" selected="selected">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
          
            Review (optional): <textarea id="reviewDish" name="review" rows="3" cols="75"></textarea>
            <input id="hiddenReviewBool" type="hidden" name="reviewOrNot" value="false">
          </div>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <input type="submit" value="Save Changes" class="btn btn-primary" id="addDish" data-restaurantid=<%=@restaurant.id %>>
      </div>
    </div>
  </div>
    <input name="authenticity_token" value="<%= form_authenticity_token %>" type="hidden">
          </form>
</div>

<div class="padded">
  <% if @foods.empty? %>
    <h2> Sorry, menu not available </h2>
  <% else %>
    <% for food in @foods %>
      <div class="food">
        <div class="row">
          <div class="col-md-5">
            <h4><%= link_to food.dish_name, controller: "food", action: "index", id: food.id %></h4>
          </div>
          <div class="col-md-3">
            <h4><%= food.price %></h4>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <%= food.description %>
          </div>
        </div>
      </div>
    <% end %>
  <% end %>
</div>

<div class="padded">
  <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#addDishModal">
    Don't see your dish? Add it here
  </button>
</div>
